(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{27:function(e,t,n){},44:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(11),r=n.n(s),l=(n(27),n(4)),i=n(3),o=n(22),j=n(1),d=[{value:"paris",label:"Paris"},{value:"tokyo",label:"Tokyo"},{value:"los angeles",label:"Los Angeles"}];function b(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(!1),r=Object(l.a)(s,2),b=r[0],u=r[1],h=Object(c.useState)(!1),O=Object(l.a)(h,2),m=O[0],p=O[1],x=Object(c.useState)(""),f=Object(l.a)(x,2),g=f[0],v=f[1],N=Object(c.useState)(""),S=Object(l.a)(N,2),y=S[0],w=S[1],C=Object(c.useState)(""),F=Object(l.a)(C,2),P=F[0],q=F[1],k=Object(c.useState)(""),L=Object(l.a)(k,2),B=L[0],I=L[1],T=Object(c.useState)(""),D=Object(l.a)(T,2),E=D[0],J=D[1],A=Object(c.useState)(""),V=Object(l.a)(A,2),z=V[0],H=V[1],M=Object(c.useState)(null),U=Object(l.a)(M,2),W=U[0],$=U[1],G=Object(i.f)();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{className:"text-center",children:"Sign up form"}),Object(j.jsx)("form",{className:"form-group needs-validation container-fluid",onSubmit:function(e){fetch("http://localhost:8000/signup",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({password:z,dateOfBirth:E,surname:B,firstName:P,email:y,confirmPassword:g,city:W.value})}).then((function(e){return e.json()})).then((function(e){!0===e.success&&G.push("/created")})),e.preventDefault()},children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"col-8",children:[Object(j.jsx)("label",{children:"First Name"}),Object(j.jsx)("input",{type:"text",name:"firstName",placeholder:"enter first name ...",className:"form-control",required:!0,onChange:function(e){q(e.target.value)}})]}),Object(j.jsxs)("div",{className:"col-8",children:[Object(j.jsx)("label",{children:"Surname"}),Object(j.jsx)("input",{type:"text",name:"Surname",placeholder:"enter surname ...",className:"form-control",required:!0,onChange:function(e){I(e.target.value)}})]}),Object(j.jsxs)("div",{className:"col-8",children:[Object(j.jsx)("label",{children:"Date of Birth"}),Object(j.jsx)("input",{type:"date",name:"dateOfBirth",className:"form-control",required:!0,onChange:function(e){J(e.target.value)}})]}),Object(j.jsxs)("div",{className:"col-8",children:[Object(j.jsx)("label",{htmlFor:"email",children:"Email"}),Object(j.jsx)("input",{type:"email",placeholder:"enter email ...",name:"email",className:n?"form-control is-valid":"form-control is-invalid",onChange:function(e){var t=e.target.value,n=/^\S+@\S+\.\S+$/g.test(t);w(t),a(n)}})]}),Object(j.jsxs)("div",{className:"col-8",children:[Object(j.jsx)("label",{children:"Password"}),Object(j.jsx)("input",{type:"password",name:"password",placeholder:"enter password ...",className:b?"form-control is-valid":"form-control is-invalid",required:!0,onChange:function(e){var t=!1;t=e.target.value.length>=8,H(e.target.value),u(t)}})]}),Object(j.jsxs)("div",{className:"col-8",children:[Object(j.jsx)("label",{children:"Confirm Password"}),Object(j.jsx)("input",{type:"password",name:"password",placeholder:"enter password ...",className:m?"form-control is-valid":"form-control is-invalid",required:!0,onChange:function(e){var t=!1;t=e.target.value===z,v(e.target.value),p(t)}})]}),Object(j.jsxs)("div",{className:"col-8",children:[Object(j.jsx)("label",{children:"Select your city"}),Object(j.jsx)(o.a,{required:!0,options:d,onChange:$})]}),Object(j.jsx)("div",{className:"col-8",children:Object(j.jsx)("input",{type:"submit",disabled:!n||!b||!m,value:"Inscription",className:"btn btn-primary"})})]})})]})}function u(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(""),r=Object(l.a)(s,2),o=r[0],d=r[1],b=Object(i.f)();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{className:"text-center",children:"Login form"}),Object(j.jsx)("form",{className:"form-group needs-validation container-fluid",onSubmit:function(e){fetch("http://localhost:8000/login",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({email:o,password:n})}).then((function(e){return e.json()})).then((function(e){var t=e.token;console.log(t),localStorage.setItem("token",t),!0===e.success&&b.push("/admin")})),e.preventDefault()},children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"col-8",children:[Object(j.jsx)("label",{htmlFor:"email",children:"Email"}),Object(j.jsx)("input",{type:"email",placeholder:"enter email ...",name:"email",className:"form-control",required:!0,onChange:function(e){d(e.target.value)}})]}),Object(j.jsxs)("div",{className:"col-8",children:[Object(j.jsx)("label",{children:"Password"}),Object(j.jsx)("input",{type:"password",name:"password",placeholder:"enter password ...",className:"form-control",required:!0,onChange:function(e){a(e.target.value)}})]}),Object(j.jsx)("div",{className:"col-8",children:Object(j.jsx)("input",{type:"submit",disabled:!o||!n,value:"Connexion",className:"btn btn-primary"})})]})})]})}function h(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){var e=localStorage.getItem("token");console.log(e),fetch("http://localhost:8000/admin",{headers:{authorization:"bearer ".concat(e)}}).then((function(e){return e.json()})).then((function(e){a(e),console.log(e)}))})),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{children:"Admin"}),n.map((function(e){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("p",{children:e.firstName}),Object(j.jsx)("p",{children:e.surname})]})}))]})}function O(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("h1",{children:"Welcome on my site"})})}var m=n(9);function p(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{children:"Votre compte a bien \xe9tait cr\xe9e"}),Object(j.jsx)(m.b,{to:"/login",children:"Login"})]})}function x(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{children:"Votre compte n'a pas pu etre cr\xe9e"}),Object(j.jsx)(m.b,{to:"/signup",children:"Sign up"})]})}n(44),n(45);function f(){return Object(j.jsxs)(m.a,{children:[Object(j.jsx)("nav",{children:Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:Object(j.jsx)(m.b,{to:"/",children:"Home"})}),Object(j.jsx)("li",{children:Object(j.jsx)(m.b,{to:"/signup",children:"Sign Up"})}),Object(j.jsx)("li",{children:Object(j.jsx)(m.b,{to:"/login",children:"Login"})})]})}),Object(j.jsxs)(i.c,{children:[Object(j.jsx)(i.a,{path:"/created",children:Object(j.jsx)(p,{})}),Object(j.jsx)(i.a,{path:"/createderror",children:Object(j.jsx)(x,{})}),Object(j.jsx)(i.a,{path:"/admin",children:Object(j.jsx)(h,{})}),Object(j.jsx)(i.a,{path:"/login",children:Object(j.jsx)(u,{})}),Object(j.jsx)(i.a,{path:"/signup",children:Object(j.jsx)(b,{})}),Object(j.jsx)(i.a,{path:"/",children:Object(j.jsx)(O,{})}),Object(j.jsx)(i.a,{path:"*",children:Object(j.jsx)(O,{})})]})]})}var g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,47)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};r.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(f,{})}),document.getElementById("root")),g()}},[[46,1,2]]]);
//# sourceMappingURL=main.7b124528.chunk.js.map